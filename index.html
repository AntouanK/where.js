<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>where.js - a JS lib for recognizing browser and OS</title>
		<script type="text/javascript" src="//use.typekit.net/she7qnb.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
		<link rel="stylesheet" type="text/css" href="./index.css">
	</head>
	<body>
		<div id="mainContainer">
			<div id="headerContainer">
				<span id="headerText">where.js</span>
			</div>
			<div id="contentContainer">
				<p>
					You want to know in which browser and OS your JS is running, but you don't want to write the
					tests every time you make a project. 
				</p>
				<p>
					And modernizr is great, but if you don't want to include a whole library
					just for the browser/OS detection, why not use something much more simpler and smaller?
				</p>
				<p>
					Actually, modernizr detects features in the browser, by testing them one by one, to see if they are implemented.
				</p>
				<p>
					Where.js, is only checking the user agent or something that is unique in each browser/OS, so you can have a quick
					detection of the environment you are in.
				</p>
				<p>
					<span>your browser : </span><span id="browser"></span>
				</p>
				<p>
					<span>your platform : </span><span id="os"></span>
				</p>
			</div>
		</div>
		<a href="https://github.com/antouank/where.js"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
	</body>
	<script src="./where.js"></script>
	<script >

		(function () {

			console.log(window.where);

			window.myNamespace = {};

			window.where.setNamespace(myNamespace);
			console.log(window.where);			
			myNamespace.where.testAll();
			myNamespace.where.addClassToBody();
			
			Object
			.keys(myNamespace.where.browser)
			.some(function (key) {
				if(myNamespace.where.browser[key] === true){
					document.getElementById('browser').textContent = key;
					return true;
				}
			});

			var osText = document.getElementById('os').textContent;

			Object
			.keys(myNamespace.where.os)
			.some(function (key) {
				if(myNamespace.where.os[key] === true){
					osText += (osText === '' ? '' : ' ') + key;
				}
			});
			document.getElementById('os').textContent = osText;


			//	make links
			document.getElementById('headerContainer').onclick = function(){ 

				location.href = 'http://www.github.com/antouank/where.js';
			};
		}());
		
	</script>
</html>